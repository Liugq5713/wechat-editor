(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{19:function(e,t,n){e.exports=n.p+"static/media/qrcode.e0ab1c8a.jpg"},20:function(e,t,n){e.exports=n(50)},44:function(e,t,n){},50:function(e,t,n){"use strict";n.r(t);var o=n(0),a=n.n(o),r=n(17),i=n.n(r),c=n(2),s=n(3),l=n(5),d=n(4),u=n(6),p=n(18),h=n.n(p),f=n(7),m=n.n(f),g=(n(44),function(e){function t(){var e,n;Object(c.a)(this,t);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(n=Object(l.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(a)))).createMarkup=function(e){return{__html:e}},n.copy=function(){var e=document.getElementById("output");e.focus(),window.getSelection().removeAllRanges();var t=document.createRange();t.setStartBefore(e.firstChild),t.setEndAfter(e.lastChild),window.getSelection().addRange(t);try{document.execCommand("copy")?M.toast({html:"\u5df2\u590d\u5236\u5230\u526a\u8d34\u677f"}):M.toast({html:"\u672a\u80fd\u590d\u5236\u5230\u526a\u8d34\u677f\uff0c\u8bf7\u5168\u9009\u540e\u53f3\u952e\u590d\u5236"})}catch(n){M.toast({html:"\u672a\u80fd\u590d\u5236\u5230\u526a\u8d34\u677f\uff0c\u8bf7\u5168\u9009\u540e\u53f3\u952e\u590d\u5236"})}},n}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.content;return a.a.createElement("div",{className:"card card__bg"},a.a.createElement("div",{className:"card-content "},a.a.createElement("span",{className:"card-title"},a.a.createElement("span",{onClick:this.copy,className:"waves-effect waves-light light-blue btn"},"\u70b9\u6b64\u590d\u5236\uff0c\u7136\u540e\u5728\u516c\u4f17\u53f7\u7f16\u8f91\u5668\u7c98\u8d34")),a.a.createElement("div",{id:"output"},a.a.createElement("div",{dangerouslySetInnerHTML:this.createMarkup(e)}))))}}]),t}(o.Component)),v=n(19),b=n.n(v),w=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=document.querySelectorAll(".tooltipped");M.Tooltip.init(e);var t=document.querySelectorAll(".modal");M.Modal.init(t)}},{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement("nav",{className:"grey darken-4"},a.a.createElement("div",{className:"nav-wrapper"},a.a.createElement("ul",{id:"nav-mobile",className:"right hide-on-med-and-down"},a.a.createElement("li",null,a.a.createElement("a",{href:"#!",className:"tooltipped ","data-position":"bottom","data-tooltip":"\u4e0d\u8981\u8d5e\u8d4f\uff0c\u5173\u6ce8\u6211\u5427"},"\u8d5e\u8d4f")),a.a.createElement("li",null,a.a.createElement("a",{className:"waves-effect waves-light modal-trigger",href:"#modal1"},"\u5173\u6ce8")))),a.a.createElement("div",{id:"modal1",className:"modal"},a.a.createElement("div",{className:"modal-content center-align"},a.a.createElement("img",{src:b.a,alt:"\u5fae\u4fe1\u516c\u4f17\u53f7\u4e8c\u7ef4\u7801"})))))}}]),t}(o.Component),E=function(){function e(t){Object(c.a)(this,e),this.renderer=new m.a.Renderer,this.theme=t,this.styleMapping=this.buildTheme(this.theme.theme),this.footnoteindex=0,this.ENV_USE_REFERENCES=!0,this.ENV_STETCH_IMAGE=!0,this.footnotes=[]}return Object(s.a)(e,[{key:"COPY",value:function(e,t){return Object.assign({},e,t)}},{key:"hasFootnotes",value:function(){return 0!==this.footnotes.length}},{key:"buildTheme",value:function(e){var t="Operator Mono, Consolas, Monaco, Menlo, monospace",n={},o=this.COPY(e.BASE,{"font-family":this.theme.fonts}),a=this.COPY(o,{margin:"20px 10px"});for(var r in e.inline)if(e.inline.hasOwnProperty(r)){var i=e.inline[r];"codespan"===r&&(i["font-family"]=t),n[r]=this.COPY(o,i)}for(var c in e.block)if(e.block.hasOwnProperty(c)){var s=e.block[c];"code"===c&&(s["font-family"]=t),n[c]=this.COPY(a,s)}return n}},{key:"S",value:function(e){var t=[],n=this.styleMapping[e];for(var o in n)t.push(o+":"+n[o]);return'style="'+t.join(";")+'"'}},{key:"addFootnote",value:function(e,t){return this.footnoteindex+=1,this.footnotes.push([this.footnoteindex,e,t]),this.footnoteindex}},{key:"buildFootnotes",value:function(){var e=this.footnotes.map(function(e){return e[1]===e[2]?'<code style="font-size: 90%; opacity: 0.7;">['+e[0]+"]</code>: "+e[1]+"<br/>":'<code style="font-size: 90%; opacity: 0.7;">['+e[0]+"]</code> "+e[1]+": "+e[2]+"<br/>"});return"<h3 "+this.S("h3")+">References</h3><p "+this.S("footnotes")+">"+e.join("\n")+"</p>"}},{key:"getWechatRenderer",value:function(){var e=this;return this.renderer.heading=function(t,n){return n<3?"<h2 "+e.S("h2")+">"+t+"</h2>":"<h3 "+e.S("h3")+">"+t+"</h3>"},this.renderer.paragraph=function(t){return"<p "+e.S("p")+">"+t+"</p>"},this.renderer.blockquote=function(t){return"<blockquote "+e.S("blockquote")+">"+t+"</blockquote>"},this.renderer.code=function(e,t){for(var n=(e=(e=e.replace(/</g,"&lt;")).replace(/>/g,"&gt;")).split("\n"),o=[],a=[],r=0;r<n.length;r++){var i=n[r];o.push('<code><span class="code-snippet_outer">'+(i||"<br>")+"</span></code>"),a.push("<li></li>")}var c=t||"";return'<section class="code-snippet__fix code-snippet__js"><ul class="code-snippet__line-index code-snippet__js">'+a.join("")+'</ul><pre class="code-snippet__js" data-lang="'+c+'">'+o.join("")+"</pre></section>"},this.renderer.codespan=function(t,n){return"<code "+e.S("codespan")+">"+t+"</code>"},this.renderer.listitem=function(t){return"<span "+e.S("listitem")+'><span style="margin-right: 10px;">\u2022</span>'+t+"</span>"},this.renderer.list=function(t,n,o){return n?"<p "+e.S("ol")+">"+t+"</p>":"<p "+e.S("ul")+">"+t+"</p>"},this.renderer.image=function(t,n,o){return"<img "+e.S(e.ENV_STETCH_IMAGE?"image":"image_org")+' src="'+t+'" title="'+n+'" alt="'+o+'"/>'},this.renderer.link=function(t,n,o){if(0===t.indexOf("https://mp.weixin.qq.com"))return'<a href="'+t+'" title="'+(n||o)+'">'+o+"</a>";if(e.ENV_USE_REFERENCES){var a=e.addFootnote(n||o,t);return"<span "+e.S("link")+">"+o+"<sup>["+a+"]</sup></span>"}return'<a href="'+t+'" title="'+(n||o)+'" '+e.S("link")+">"+o+"</a>"},this.renderer.strong=this.renderer.em=function(t){return"<strong "+e.S("strong")+">"+t+"</strong>"},this.renderer.table=function(t,n){return"<table "+e.S("table")+"><thead "+e.S("thead")+">"+t+"</thead><tbody>"+n+"</tbody></table>"},this.renderer.tablecell=function(t,n){return"<td "+e.S("td")+">"+t+"</td>"},this.renderer}}]),e}(),x={BASE:{"text-align":"left",color:"#3f3f3f","line-height":"1.5","font-size":"".concat(18,"px")},BASE_BLOCK:{margin:"20px 10px"},block:{h2:{"font-size":"140%","text-align":"left","font-weight":"800",margin:"40px 0"},h3:{"font-weight":"600","font-size":"120%",margin:"20px 0"},p:{margin:"".concat(18,"px"),"line-height":"1.5"},blockquote:{color:"rgb(91, 91, 91)",padding:"1px 0 1px 10px",background:"rgba(158, 158, 158, 0.1)","border-left":"3px solid rgb(158,158,158)"},code:{"font-size":"80%",overflow:"auto",color:"#333",background:"rgb(247, 247, 247)","border-radius":"2px",padding:"10px","line-height":"1.3",border:"1px solid rgb(236,236,236)",margin:"20px 0"},image:{"border-radius":"4px",display:"block",margin:"20px auto",width:"100%"},image_org:{"border-radius":"4px",display:"block"},ol:{"margin-left":"0","padding-left":"20px"},ul:{"margin-left":"0","padding-left":"20px","list-style":"circle"},footnotes:{margin:"10px 10px","font-size":"14px"}},inline:{listitem:{"text-indent":"-20px",display:"block",margin:"10px 10px"},codespan:{"font-size":"90%",color:"#ff3502",background:"#f8f5ec",padding:"3px 5px","border-radius":"2px"},link:{color:"#ff3502"},strong:{color:"#ff3502"},table:{"border-collapse":"collapse",margin:"20px 0"},thead:{background:"rgba(0,0,0,0.05)"},td:{"font-size":"80%",border:"1px solid #dfdfdf",padding:"4px 8px"},footnote:{"font-size":"12px"}}},y=n(10),k=(n(45),n(46),function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(d.a)(t).call(this,e))).setSrcContent=function(e){n.setState({src_content:e})},n.renderContent=function(e){var t=new E({theme:x,fonts:{label:"\u886c\u7ebf",value:"serif",fonts:"Optima-Regular, Optima, PingFangSC-light, PingFangTC-light, 'PingFang SC', Cambria, Cochin, Georgia, Times, 'Times New Roman', serif"}}),o=m()(e,{renderer:t.getWechatRenderer()});t.hasFootnotes()&&(o+=t.buildFootnotes()),n.setState({dist_content:o})},n.state={src_content:void 0,dist_content:void 0},n}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=document.getElementById("editorContainer");h.a.get("./test.md").then(function(n){e.setState({src_content:n.data}),e.renderContent(n.data);var o=y.fromTextArea(t,{value:n.data,lineNumbers:!0,lineWrapping:!0,theme:"monokai",styleActiveLine:!0,mode:"text/x-markdown"});o.setSize("100%","100%"),o.on("change",function(t,n){e.renderContent(o.getValue()),setTimeout(function(){o.refresh()},0)})})}},{key:"render",value:function(){var e=this.state,t=e.src_content,n=e.dist_content;return a.a.createElement("div",null,a.a.createElement(w,null),a.a.createElement("div",{className:"row"},a.a.createElement("div",{className:"col s6"},a.a.createElement("div",{className:"card card__bg"},a.a.createElement("div",{className:"card-content "},a.a.createElement("span",{className:"card-title"},"Markdown\u5185\u5bb9"),a.a.createElement("textarea",{id:"editorContainer",value:t,onChange:this.handlerChange})))),a.a.createElement("div",{className:"col s6"},a.a.createElement(g,{content:n}))))}}]),t}(o.Component)),S=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(d.a)(t).call(this))).handleClick=function(){n.setState({showTip:!1});var e=n.state.deferredPrompt;console.log("deferredPrompt",e),e.prompt(),e.userChoice.then(function(e){console.log("choiceResult",e),"accepted"===e.outcome?console.log("User accepted the A2HS prompt"):console.log("User dismissed the A2HS prompt"),n.setState({deferredPrompt:null})})},n.state={showTip:!1,deferredPrompt:void 0},n}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;window.addEventListener("beforeinstallprompt",function(t){console.log("e",t),t.preventDefault(),e.setState({deferredPrompt:t,showTip:!0})})}},{key:"render",value:function(){return this.state.showTip?a.a.createElement("div",{className:"  grey lighten-3 center-align",style:{position:"fixed",bottom:0,height:"100px",left:0,right:0,backgroundColor:"#000",zIndex:1e3}},a.a.createElement("p",{style:{fontSize:"30px"}},"\u6dfb\u52a0 wechat-editor \u5230\u60a8\u7684\u684c\u9762",a.a.createElement("span",{className:"waves-effect waves-light btn  blue  darken-2 ",onClick:this.handleClick,style:{marginLeft:"10px",marginTop:"-10px"}},"\u6dfb\u52a0"))):null}}]),t}(o.Component),C=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"App"},a.a.createElement(S,null),a.a.createElement(k,null))}}]),t}(o.Component),O=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function j(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}n(47),n(48),n(49);i.a.render(a.a.createElement(C,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/wechat-editor",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/wechat-editor","/service-worker.js");O?(function(e,t){fetch(e).then(function(n){var o=n.headers.get("content-type");404===n.status||null!=o&&-1===o.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):j(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):j(t,e)})}}()}},[[20,1,2]]]);
//# sourceMappingURL=main.d8f5d947.chunk.js.map